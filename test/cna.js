system.source("maia/cna/cna.maia");tries=10;if (core.equal(system.argc,2)) {tries=system.argv[1];};fs=system.require("fs");readTextFile=fs.readFileSync;fileContents=readTextFile("test/test.net","utf-8");property={"adj": [],"n": 0,"m": 0,"directed": false,"density": 0,"networkLabel": [],"networkDegree": [],"networkAverageDegree": 0,"networkDegreeDistribution": [],"networkDensity": 0,"networkClustering": [],"networkAverageClustering": 0,"networkShortestPath": [],"networkAverageShortestPath": 0,"networkDiameter": 0,"networkCentrality": [],"networkVertexEfficiency": [],"networkGlobalEfficiency": 0};property.adj=cna.parsePajekFile(fileContents,property);system.println(core.add(core.add("Testing the CNA functions ",tries)," times."));system.println("cna.networkDensity...");core.testScript('property.networkDensity=cna.getDensity(property.adj,property.directed);',tries,0.2889,0.0001,'var v = core.testResult.obtained;system.print("TEST: Fail testing function cna.networkDensity.");system.print(core.add("      Expected result ",core.testResult.expected));system.print(core.add("      But got ",core.testResult.obtained));');;system.println("cna.networkDegree...");core.testScript('property.networkDegree=cna.getDegrees(property.adj,property.directed);property.networkAverageDegree=cna.getAverageDegree(property.networkDegree);',tries,2.6,0.1,'var v = core.testResult.obtained;system.print("TEST: Fail testing function cna.networkDegree.");system.print(core.add("      Expected result ",core.testResult.expected));system.print(core.add("      But got ",core.testResult.obtained));');;system.println("cna.networkAverageClustering...");core.testScript('property.networkClustering=cna.getClustering(property.adj,property.directed);property.networkAverageClustering=cna.getAverageClustering(property.networkClustering);',tries,0.45,0.01,'var v = core.testResult.obtained;system.print("TEST: Fail testing function cna.networkAverageClustering.");system.print(core.add("      Expected result ",core.testResult.expected));system.print(core.add("      But got ",core.testResult.obtained));');;system.println("cna.networkAverageShortestPath...");core.testScript('property.networkShortestPath=cna.getShortestPath(property.adj);property.networkAverageShortestPath=cna.getAverageShortestPath(property.networkShortestPath);',tries,2.1111,0.0001,'var v = core.testResult.obtained;system.print("TEST: Fail testing function cna.networkAverageShortestPath.");system.print(core.add("      Expected result ",core.testResult.expected));system.print(core.add("      But got ",core.testResult.obtained));');;system.println("cna.networkDiameter...");core.testScript('property.networkShortestPath=cna.getShortestPath(property.adj);property.networkDiameter=cna.getDiameter(property.networkShortestPath);',tries,4,0,'var v = core.testResult.obtained;system.print("TEST: Fail testing function cna.networkDiameter.");system.print(core.add("      Expected result ",core.testResult.expected));system.print(core.add("      But got ",core.testResult.obtained));');;system.println("cna.networkGlobalEfficiency...");core.testScript('property.networkShortestPath=cna.getShortestPath(property.adj);property.networkVertexEfficiency=cna.getVertexEfficiency(property.networkShortestPath);property.networkGlobalEfficiency=cna.getGlobalEfficiency(property.networkVertexEfficiency);',tries,0.5852,0.0001,'var v = core.testResult.obtained;system.print("TEST: Fail testing function cna.networkGlobalEfficiency.");system.print(core.add("      Expected result ",core.testResult.expected));system.print(core.add("      But got ",core.testResult.obtained));');;